"use strict";var t="stylable-scrollbar",e=[],r=function(t){var e=t.scrollbarId,r=t.scrollbarContainer,o=t.contentContainer,n=t.scrollbarDirection,l=t.scrollSpeed,i=t.responsive;this.scrollbarId=e,this.scrollbarContainer=r,this.contentContainer=o,this.scrollbarDirection=n||"vertical",this.scrollbarContainer&&r.setAttribute("direction",this.scrollbarDirection),this.scrollSpeed=l||1,this.scrollbarContainer&&r.setAttribute("scrollspeed",this.scrollSpeed),this.responsive=i||!0,this.scrollbarContainer&&r.setAttribute("responsive",this.responsive)},o=function(){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");t.appendChild(e),e.setAttribute("type","text/css"),e.appendChild(document.createTextNode("\n    [stylable-scrollbar-scrollable]::-webkit-scrollbar{\n      display: none;\n    }\n    [stylable-scrollbar-scrollable] {\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  "))},n=function(t){for(var e=0;e<t.children.length;e++){var r=t.children[e];r.style.pointerEvents="none",n(r)}},l=function(t,e,r){return t<=e&&(t=e),t>=r&&(t=r),t},i=function(e){if(e){var r=e.getAttribute("".concat(t)),o=document.querySelector("[".concat(t,'-scrollable="').concat(r,'"]'));if(o){var n=e.getAttribute("direction"),l=!0;e.getAttribute("responsive")&&("vertical"===n?l=o.scrollHeight>o.clientHeight:"horizontal"===n&&(l=o.scrollWidth>o.clientWidth)),e.style.display=l?"block":"none"}}},c=function(e,r,o){var n=o.scrollbarOnly,i=o.adjustForHandleSize;if(e){var c=e.getAttribute("".concat(t)),a=document.querySelector("[".concat(t,'-scrollable="').concat(c,'"]'));if(a){var s=e.querySelector("[".concat(t,"-handle]"));if(s){var u=e.getAttribute("direction"),d=0,v=0,b=0,h=0;"vertical"===u?d=s.clientHeight:"horizontal"===u&&(d=s.clientWidth),e&&("vertical"===u?b=e.clientHeight:"horizontal"===u&&(b=e.clientWidth),i&&(r-=d/2),r=l(r,v,b-=d),"vertical"===u?s.style.top="".concat(r,"px"):"horizontal"===u&&(s.style.left="".concat(r,"px")),h=r/b),a&&!n&&(v=0,"vertical"===u?b=a.scrollHeight-a.clientHeight:"horizontal"===u&&(b=a.scrollWidth-a.clientWidth),r=l(r=b*h,v,b),"vertical"===u?a.scrollTop=r:"horizontal"===u&&(a.scrollLeft=r))}}}},a=function(t){t.setAttribute("scrolling","true")},s=function(t){var e=document.querySelector("[scrolling]");if(e){t.preventDefault(),t.stopPropagation();var r=e.getAttribute("direction"),o=0;"vertical"===r&&(o=t.pageY-(window.scrollY+(null==e?void 0:e.getBoundingClientRect().top))),"horizontal"===r&&(o=t.pageX-(window.scrollX+(null==e?void 0:e.getBoundingClientRect().left))),c(e,o,{scrollbarOnly:!1,adjustForHandleSize:!0})}},u=function(e){e.preventDefault(),e.stopPropagation();for(var r=document.querySelectorAll("[".concat(t,"]")),o=0;o<r.length;o++)r[o].removeAttribute("scrolling")};module.exports=function(l){l&&l.keepContainerScrollbars,o();var d=Array.from(document.querySelectorAll("[".concat(t,"]")));e=[];for(var v=0,b=d;v<b.length;v++){var h=b[v],f=h.getAttribute("".concat(t)),p=document.querySelector("[".concat(t,'-scrollable="').concat(f,'"]'));if(p){var g=h.getAttribute("direction"),y=h.getAttribute("scrollspeed"),m=h.getAttribute("responsive");e.push(new r({scrollbarContainer:h,contentContainer:p,scrollbarId:f,scrollbarDirection:g,scrollSpeed:y,responsive:m}))}}for(var A=function(e){var r=e.scrollbarId,o=e.scrollbarContainer,l=e.contentContainer;if(!o||!l)return{value:[]};n(o),function(e){var r=e.querySelector("[".concat(t,"-handle]"));r&&(r.style.position="absolute")}(o),function(e){var r=e.getAttribute("".concat(t,"-scrollable")),o=document.querySelector("[".concat(t,'="').concat(r,'"]'));if(o){o.style.position="relative";var n=o.getAttribute("direction");"horizontal"===n&&(e.style.overflowX="auto"),"vertical"===n&&(e.style.overflowY="scroll")}}(l),o.setAttribute("ondragstart","(e) => {\n      e.preventDefault();\n    }"),o.addEventListener("mousedown",(function(e){return function(e,r){e.preventDefault(),e.stopPropagation();var o=document.querySelector("[".concat(t,'="').concat(r,'"]'));o&&(a(o),s(e))}(e,r)})),l.addEventListener("scroll",(function(e){return function(e,r){var o=document.querySelector("[".concat(t,'="').concat(r,'"]'));if(o&&!o.getAttribute("scrolling")){var n=document.querySelector("[".concat(t,'-scrollable="').concat(r,'"]'));if(n){var l=o.querySelector("[".concat(t,"-handle]"));if(l){var i=o.getAttribute("direction"),a=0,s=0;"vertical"===i?(a=n.scrollTop/(n.scrollHeight-n.clientHeight),s=(o.clientHeight-l.clientHeight)*a):"horizontal"===i&&(a=n.scrollLeft/(n.scrollWidth-n.clientWidth),s=(o.clientWidth-l.clientWidth)*a),c(o,s,{scrollbarOnly:!0,adjustForHandleSize:!1})}}}}(0,r)})),l.addEventListener("wheel",(function(e){return function(e,r){var o=document.querySelector("[".concat(t,'="').concat(r,'"]'));if(o){e.preventDefault(),e.stopPropagation();var n=o.querySelector("[".concat(t,"-handle]"));if(n){a(o);var l,i=o.getAttribute("direction"),s=Number(o.getAttribute("scrollSpeed")),d=0;"vertical"===i?d=parseInt(n.style.top):"horizontal"===i&&(d=parseInt(n.style.left)),isNaN(d)&&(d=0),l=e.deltaY*(s/10),c(o,d+l,{scrollbarOnly:!1,adjustForHandleSize:!1}),u(e)}}}(e,r)})),i(o)},S=0,w=e;S<w.length;S++){var C=A(w[S]);if("object"==typeof C)return C.value}return window.addEventListener("mousemove",s),window.addEventListener("mouseup",u),window.addEventListener("mouseleave",u),window.addEventListener("resize",(function(){for(var t=0,e=d;t<e.length;t++){var r=e[t];i(r)}})),e};

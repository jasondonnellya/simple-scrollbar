"use strict";var t="stylable-scrollbar",e=[],r=function(t){var e=t.scrollbarId,r=t.scrollbarContainer,n=t.contentContainer,o=t.scrollbarDirection;this.scrollbarId=e,this.scrollbarContainer=r,this.contentContainer=n,this.scrollbarDirection=o||"vertical",this.scrollbarContainer&&r.setAttribute("direction",this.scrollbarDirection)},n=function(){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");t.appendChild(e),e.setAttribute("type","text/css"),e.appendChild(document.createTextNode("\n    [stylable-scrollbar-scrollable]::-webkit-scrollbar{\n      display: none;\n    }\n    [stylable-scrollbar-scrollable] {\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  "))},o=function(t){for(var e=0;e<t.children.length;e++){var r=t.children[e];r.style.pointerEvents="none",o(r)}},l=function(e){var r=document.querySelector("[scrolling]");if(r){var n=r.getAttribute("".concat(t)),o=document.querySelector("[".concat(t,'-scrollable="').concat(n,'"]'));if(o){e.preventDefault(),e.stopPropagation();var l=r.querySelector("[".concat(t,"-handle]"));if(l){var c=r.getAttribute("direction");if("horizontal"===c){var a=l.clientWidth,i=0,s=r.clientWidth-a,u=window.scrollX+r.getBoundingClientRect().left,d=e.pageX-a/2-u;d<i&&(d=i),d>s&&(d=s),l.style.left="".concat(d,"px");var v=d/s,b=(o.scrollWidth-o.clientWidth)*v;b<0&&(b=0),o.scrollLeft=b}else if("vertical"===c){var f=l.clientHeight,p=(i=0,s=r.clientHeight-f,window.scrollY+r.getBoundingClientRect().top),h=e.pageY-f/2-p;h<i&&(h=i),h>s&&(h=s),l.style.top="".concat(h,"px");v=h/s;var g=(o.scrollHeight-o.clientHeight)*v;g<0&&(g=0),o.scrollTop=g}}}}},c=function(e){e.preventDefault(),e.stopPropagation();for(var r=document.querySelectorAll("[".concat(t,"]")),n=0;n<r.length;n++)r[n].removeAttribute("scrolling")};module.exports=function(a){a&&a.keepContainerScrollbars||n();var i=Array.from(document.querySelectorAll("[".concat(t,"]")));e=[];for(var s=0,u=i;s<u.length;s++){var d=u[s],v=d.getAttribute("".concat(t)),b=document.querySelector("[".concat(t,'-scrollable="').concat(v,'"]'));if(b){var f=d.getAttribute("direction");e.push(new r({scrollbarContainer:d,contentContainer:b,scrollbarId:v,scrollbarDirection:f}))}}for(var p=function(e){var r=e.scrollbarId,n=e.scrollbarContainer,c=e.contentContainer;if(!n||!c)return{value:[]};o(n),function(e){var r=e.querySelector("[".concat(t,"-handle]"));r&&(r.style.position="absolute")}(n),function(e){var r=e.getAttribute("".concat(t,"-scrollable")),n=document.querySelector("[".concat(t,'="').concat(r,'"]'));if(n){n.style.position="relative";var o=n.getAttribute("direction");"horizontal"===o&&(e.style.overflowX="auto"),"vertical"===o&&(e.style.overflowY="scroll")}}(c),n.setAttribute("ondragstart","(e) => {\n      e.preventDefault();\n    }"),n.addEventListener("mousedown",(function(e){return function(e,r){e.preventDefault(),e.stopPropagation();var n=document.querySelector("[".concat(t,'="').concat(r,'"]'));n&&(n.setAttribute("scrolling","true"),l(e))}(e,r)}))},h=0,g=e;h<g.length;h++){var y=p(g[h]);if("object"==typeof y)return y.value}return window.addEventListener("mousemove",l),window.addEventListener("mouseup",c),window.addEventListener("mouseleave",c),e};

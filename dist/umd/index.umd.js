!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).initStylableScrollbars=e()}(this,(function(){"use strict";var t="stylable-scrollbar",e=[],r=function(t){var e=t.scrollbarId,r=t.scrollbarContainer,n=t.contentContainer,o=t.scrollbarDirection,l=t.scrollSpeed,i=t.responsive;this.scrollbarId=e,this.scrollbarContainer=r,this.contentContainer=n,this.scrollbarDirection=o||"vertical",this.scrollbarContainer&&r.setAttribute("direction",this.scrollbarDirection),this.scrollSpeed=l||1,this.scrollbarContainer&&r.setAttribute("scrollspeed",this.scrollSpeed),this.responsive=i||!0,this.scrollbarContainer&&r.setAttribute("responsive",this.responsive)},n=function(){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");t.appendChild(e),e.setAttribute("type","text/css"),e.appendChild(document.createTextNode("\n    [stylable-scrollbar-scrollable]::-webkit-scrollbar{\n      display: none;\n    }\n    [stylable-scrollbar-scrollable] {\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  "))},o=function(t){for(var e=0;e<t.children.length;e++){var r=t.children[e];r.style.pointerEvents="none",o(r)}},l=function(t,e,r){return t<=e&&(t=e),t>=r&&(t=r),t},i=function(e){if(e){var r=e.getAttribute("".concat(t)),n=document.querySelector("[".concat(t,'-scrollable="').concat(r,'"]'));if(n){var o=e.getAttribute("direction"),l=!0;e.getAttribute("responsive")&&("vertical"===o?l=n.scrollHeight>n.clientHeight:"horizontal"===o&&(l=n.scrollWidth>n.clientWidth)),e.style.display=l?"block":"none"}}},c=function(e,r,n){var o=n.scrollbarOnly,i=n.adjustForHandleSize;if(e){var c=e.getAttribute("".concat(t)),a=document.querySelector("[".concat(t,'-scrollable="').concat(c,'"]'));if(a){var s=e.querySelector("[".concat(t,"-handle]"));if(s){var u=e.getAttribute("direction"),d=0,v=0,b=0,f=0;"vertical"===u?d=s.clientHeight:"horizontal"===u&&(d=s.clientWidth),e&&("vertical"===u?b=e.clientHeight:"horizontal"===u&&(b=e.clientWidth),i&&(r-=d/2),r=l(r,v,b-=d),"vertical"===u?s.style.top="".concat(r,"px"):"horizontal"===u&&(s.style.left="".concat(r,"px")),f=r/b),a&&!o&&(v=0,"vertical"===u?b=a.scrollHeight-a.clientHeight:"horizontal"===u&&(b=a.scrollWidth-a.clientWidth),r=l(r=b*f,v,b),"vertical"===u?a.scrollTop=r:"horizontal"===u&&(a.scrollLeft=r))}}}},a=function(t){t.setAttribute("scrolling","true")},s=function(t){var e=document.querySelector("[scrolling]");if(e){t.preventDefault(),t.stopPropagation();var r=e.getAttribute("direction"),n=0;"vertical"===r&&(n=t.pageY-(window.scrollY+(null==e?void 0:e.getBoundingClientRect().top))),"horizontal"===r&&(n=t.pageX-(window.scrollX+(null==e?void 0:e.getBoundingClientRect().left))),c(e,n,{scrollbarOnly:!1,adjustForHandleSize:!0})}},u=function(e){e.preventDefault(),e.stopPropagation();for(var r=document.querySelectorAll("[".concat(t,"]")),n=0;n<r.length;n++)r[n].removeAttribute("scrolling")};return function(l){l&&l.keepContainerScrollbars,n();var d=Array.from(document.querySelectorAll("[".concat(t,"]")));e=[];for(var v=0,b=d;v<b.length;v++){var f=b[v],h=f.getAttribute("".concat(t)),p=document.querySelector("[".concat(t,'-scrollable="').concat(h,'"]'));if(p){var g=f.getAttribute("direction"),y=f.getAttribute("scrollspeed"),m=f.getAttribute("responsive");e.push(new r({scrollbarContainer:f,contentContainer:p,scrollbarId:h,scrollbarDirection:g,scrollSpeed:y,responsive:m}))}}for(var S=function(e){var r=e.scrollbarId,n=e.scrollbarContainer,l=e.contentContainer;if(!n||!l)return{value:[]};o(n),function(e){var r=e.querySelector("[".concat(t,"-handle]"));r&&(r.style.position="absolute")}(n),function(e){var r=e.getAttribute("".concat(t,"-scrollable")),n=document.querySelector("[".concat(t,'="').concat(r,'"]'));if(n){n.style.position="relative";var o=n.getAttribute("direction");"horizontal"===o&&(e.style.overflowX="auto"),"vertical"===o&&(e.style.overflowY="scroll")}}(l),n.setAttribute("ondragstart","(e) => {\n      e.preventDefault();\n    }"),n.addEventListener("mousedown",(function(e){return function(e,r){e.preventDefault(),e.stopPropagation();var n=document.querySelector("[".concat(t,'="').concat(r,'"]'));n&&(a(n),s(e))}(e,r)})),l.addEventListener("scroll",(function(e){return function(e,r){var n=document.querySelector("[".concat(t,'="').concat(r,'"]'));if(n&&!n.getAttribute("scrolling")){var o=document.querySelector("[".concat(t,'-scrollable="').concat(r,'"]'));if(o){var l=n.querySelector("[".concat(t,"-handle]"));if(l){var i=n.getAttribute("direction"),a=0,s=0;"vertical"===i?(a=o.scrollTop/(o.scrollHeight-o.clientHeight),s=(n.clientHeight-l.clientHeight)*a):"horizontal"===i&&(a=o.scrollLeft/(o.scrollWidth-o.clientWidth),s=(n.clientWidth-l.clientWidth)*a),c(n,s,{scrollbarOnly:!0,adjustForHandleSize:!1})}}}}(0,r)})),l.addEventListener("wheel",(function(e){return function(e,r){var n=document.querySelector("[".concat(t,'="').concat(r,'"]'));if(n){e.preventDefault(),e.stopPropagation();var o=n.querySelector("[".concat(t,"-handle]"));if(o){a(n);var l,i=n.getAttribute("direction"),s=Number(n.getAttribute("scrollSpeed")),d=0;"vertical"===i?d=parseInt(o.style.top):"horizontal"===i&&(d=parseInt(o.style.left)),isNaN(d)&&(d=0),l=e.deltaY*(s/10),c(n,d+l,{scrollbarOnly:!1,adjustForHandleSize:!1}),u(e)}}}(e,r)})),i(n)},A=0,w=e;A<w.length;A++){var C=S(w[A]);if("object"==typeof C)return C.value}return window.addEventListener("mousemove",s),window.addEventListener("mouseup",u),window.addEventListener("mouseleave",u),window.addEventListener("resize",(function(){for(var t=0,e=d;t<e.length;t++){var r=e[t];i(r)}})),e}}));

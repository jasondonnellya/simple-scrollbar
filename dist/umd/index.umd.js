!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).initStylableScrollbars=e()}(this,(function(){"use strict";var t="stylable-scrollbar",e=[],n=function(t){var e=t.scrollbarId,n=t.scrollbarContainer,r=t.contentContainer,o=t.scrollbarDirection;this.scrollbarId=e,this.scrollbarContainer=n,this.contentContainer=r,this.scrollbarDirection=o||"vertical",this.scrollbarContainer&&n.setAttribute("direction",this.scrollbarDirection)},r=function(){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");t.appendChild(e),e.setAttribute("type","text/css"),e.appendChild(document.createTextNode("\n    [stylable-scrollbar-scrollable]::-webkit-scrollbar{\n      display: none;\n    }\n    [stylable-scrollbar-scrollable] {\n      -ms-overflow-style: none;\n      scrollbar-width: none;\n    }\n  "))},o=function(t){for(var e=0;e<t.children.length;e++){var n=t.children[e];n.style.pointerEvents="none",o(n)}},l=function(e){var n=document.querySelector("[scrolling]");if(n){var r=n.getAttribute("".concat(t)),o=document.querySelector("[".concat(t,'-scrollable="').concat(r,'"]'));if(o){e.preventDefault(),e.stopPropagation();var l=n.querySelector("[".concat(t,"-handle]"));if(l){var c=n.getAttribute("direction");if("horizontal"===c){var i=l.clientWidth,a=0,s=n.clientWidth-i,u=window.scrollX+n.getBoundingClientRect().left,d=e.pageX-i/2-u;d<a&&(d=a),d>s&&(d=s),l.style.left="".concat(d,"px");var f=d/s,b=(o.scrollWidth-o.clientWidth)*f;b<0&&(b=0),o.scrollLeft=b}else if("vertical"===c){var v=l.clientHeight,p=(a=0,s=n.clientHeight-v,window.scrollY+n.getBoundingClientRect().top),h=e.pageY-v/2-p;h<a&&(h=a),h>s&&(h=s),l.style.top="".concat(h,"px");f=h/s;var g=(o.scrollHeight-o.clientHeight)*f;g<0&&(g=0),o.scrollTop=g}}}}},c=function(e){e.preventDefault(),e.stopPropagation();for(var n=document.querySelectorAll("[".concat(t,"]")),r=0;r<n.length;r++)n[r].removeAttribute("scrolling")};return function(i){i&&i.keepContainerScrollbars||r();var a=Array.from(document.querySelectorAll("[".concat(t,"]")));e=[];for(var s=0,u=a;s<u.length;s++){var d=u[s],f=d.getAttribute("".concat(t)),b=document.querySelector("[".concat(t,'-scrollable="').concat(f,'"]'));if(b){var v=d.getAttribute("direction");e.push(new n({scrollbarContainer:d,contentContainer:b,scrollbarId:f,scrollbarDirection:v}))}}for(var p=function(e){var n=e.scrollbarId,r=e.scrollbarContainer,c=e.contentContainer;if(!r||!c)return{value:[]};o(r),function(e){var n=e.querySelector("[".concat(t,"-handle]"));n&&(n.style.position="absolute")}(r),function(e){var n=e.getAttribute("".concat(t,"-scrollable")),r=document.querySelector("[".concat(t,'="').concat(n,'"]'));if(r){r.style.position="relative";var o=r.getAttribute("direction");"horizontal"===o&&(e.style.overflowX="auto"),"vertical"===o&&(e.style.overflowY="scroll")}}(c),r.setAttribute("ondragstart","(e) => {\n      e.preventDefault();\n    }"),r.addEventListener("mousedown",(function(e){return function(e,n){e.preventDefault(),e.stopPropagation();var r=document.querySelector("[".concat(t,'="').concat(n,'"]'));r&&(r.setAttribute("scrolling","true"),l(e))}(e,n)}))},h=0,g=e;h<g.length;h++){var y=p(g[h]);if("object"==typeof y)return y.value}return window.addEventListener("mousemove",l),window.addEventListener("mouseup",c),window.addEventListener("mouseleave",c),e}}));
